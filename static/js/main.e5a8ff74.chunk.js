(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(4),i=a.n(n),r=(a(13),a(2)),l=a(0),o=function(e){var t=e.query,a=e.setQuery,s=e.fetchWeather,n=function(){var e=Object(c.useRef)(null);return[e,function(){return e.current&&e.current.focus()}]}(),i=Object(r.a)(n,2),o=i[0],j=i[1];return Object(l.jsx)("div",{className:"search-box",children:Object(l.jsx)("input",{autoFocus:!0,ref:o,type:"text",placeholder:"Enter any city",className:"search-bar",value:t,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){t.length>1&&s(e)},onBlur:j})})},j=a(8),d=function(e){var t=e.children;return Object(l.jsx)("div",{className:"tooltip",children:t})},u=function(){var e=new Date,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.getDay()],a=e.getDate(),c=["January","Fabruary","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],s=e.getFullYear();return"".concat(t,", ").concat(c," ").concat(a,", ").concat(s)},b=function(e,t){return e.includes(t)},h=a.p+"static/media/done_icon.fffa60b2.svg",m=a.p+"static/media/plus_icon.bd0a06e6.svg",v=function(e){var t=e.weather,a=e.setFavCities,s=e.favCities,n=Object(c.useState)(!1),i=Object(r.a)(n,2),o=i[0],v=i[1],x=Math.floor(t.main.temp),O="".concat(t.weather[0].main," / ").concat(t.weather[0].description),f=t.name,_=t.sys.country,p=Math.floor(t.main.feels_like),N=Math.floor(t.main.temp_min),y=Math.floor(t.main.temp_max),C=t.main.humidity,g=t.main.pressure,S=new Date(1e3*(t.sys.sunrise+t.timezone-10800)).toLocaleTimeString().slice(0,5),F=new Date(1e3*(t.sys.sunset+t.timezone-10800)).toLocaleTimeString().slice(0,5),w=new Date(1e3*(t.dt+t.timezone-10800)).toLocaleTimeString().slice(0,5),M="\xb0C";return Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("div",{className:"info__location",children:[f,", ",_,Object(l.jsx)("button",{type:"button",className:"addFavBtn",onClick:function(){b(s,f)||a([].concat(Object(j.a)(s),[f]))},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:b(s,f)?Object(l.jsx)("img",{src:h,alt:"done icon"}):Object(l.jsx)("img",{src:m,alt:"plus (add) icon"})}),o&&Object(l.jsx)(d,{children:b(s,f)?"Added":"Add to Fav"})]}),Object(l.jsxs)("div",{className:"info__date",children:[u()," - ",w]}),Object(l.jsxs)("div",{className:"info__temp",children:[x,"\xb0C"]}),Object(l.jsx)("div",{className:"info__weather",children:O}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"extra-container",children:[Object(l.jsxs)("div",{className:"extra extra--fst",children:[Object(l.jsx)("div",{className:"extra__name",children:"Feels like"}),Object(l.jsxs)("div",{className:"extra__value",children:[p,M]})]}),Object(l.jsxs)("div",{className:"extra",children:[Object(l.jsx)("div",{className:"extra__name",children:"Min temperature"}),Object(l.jsxs)("div",{className:"extra__value",children:[N,M]})]}),Object(l.jsxs)("div",{className:"extra",children:[Object(l.jsx)("div",{className:"extra__name",children:"Max temperature"}),Object(l.jsxs)("div",{className:"extra__value",children:[y,M]})]}),Object(l.jsxs)("div",{className:"extra",children:[Object(l.jsx)("div",{className:"extra__name",children:"Sunrise"}),Object(l.jsx)("div",{className:"extra__value",children:S})]}),Object(l.jsxs)("div",{className:"extra",children:[Object(l.jsx)("div",{className:"extra__name",children:"Sunset"}),Object(l.jsx)("div",{className:"extra__value",children:F})]}),Object(l.jsxs)("div",{className:"extra",children:[Object(l.jsx)("div",{className:"extra__name",children:"Humidity"}),Object(l.jsxs)("div",{className:"extra__value",children:[C,"%"]})]}),Object(l.jsxs)("div",{className:"extra extra--last",children:[Object(l.jsx)("div",{className:"extra__name",children:"Pressure"}),Object(l.jsxs)("div",{className:"extra__value",children:[g,"hPa"]})]})]})]})},x=function(e){var t=e.error;return Object(l.jsx)("div",{className:"info",children:Object(l.jsx)("div",{className:"info__location",children:t.message})})},O=s.a.memo(x),f=function(){return Object(l.jsx)("div",{className:"loader"})},_="429d2e287145e65ce74197b14fc241f4",p="https://api.openweathermap.org/data/2.5/",N=a(7),y=a.n(N),C=a.p+"static/media/trash_icon.a309e0e4.svg",g=function(e){var t=e.city,a=e.handleCityChoose,s=e.handleDeleteFavCity,n=Object(c.useState)(!1),i=Object(r.a)(n,2),o=i[0],j=i[1];return Object(l.jsxs)("li",{className:"favCities__item",onClick:a,value:t,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},children:[t,Object(l.jsx)("span",{className:y()("trashbin",{"trashbin--visible":o}),onClick:s,children:Object(l.jsx)("img",{className:"trashbin__img",src:C,alt:"delete city icon","data-value":t})})]},t)},S=function(e){var t=e.children,a=document.createElement("div");return Object(c.useEffect)((function(){return document.body.appendChild(a)})),i.a.createPortal(t,a)},F=function(e){var t=e.favCities,a=e.setIsFavOpen,c=e.setFavCity,s=e.handleDeleteFavCity,n=function(e){a(!1),c(e.target.innerText)};return 0===t.length&&a(!1),Object(l.jsx)(S,{children:Object(l.jsx)("div",{className:"favCitiesWrapper",children:Object(l.jsxs)("div",{className:"favCities",children:[Object(l.jsx)("button",{onClick:function(){return a(!1)},className:"favCities__close",children:Object(l.jsx)("img",{className:"favCities__closeImg",src:m,alt:"cross to close popup"})}),Object(l.jsx)("h1",{className:"favCities__header",children:"Fav Cities"}),Object(l.jsx)("ul",{className:"favCities__list",children:t.map((function(e){return Object(l.jsx)(g,{city:e,handleCityChoose:n,handleDeleteFavCity:s})}))})]})})})},w=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),i=Object(r.a)(n,2),j=i[0],d=i[1],u=Object(c.useState)({}),b=Object(r.a)(u,2),h=b[0],m=b[1],x=Object(c.useState)(""),N=Object(r.a)(x,2),y=N[0],C=N[1],g=Object(c.useState)({}),S=Object(r.a)(g,2),w=S[0],M=S[1],D=Object(c.useState)(!1),k=Object(r.a)(D,2),T=k[0],A=k[1],E=Object(c.useState)(!1),L=Object(r.a)(E,2),P=L[0],I=L[1],J=Object(c.useState)(!1),W=Object(r.a)(J,2),q=W[0],z=W[1],B=Object(c.useState)(["New York","Tokyo","London"]),Q=Object(r.a)(B,2),Y=Q[0],H=Q[1],K=function(e){"404"===e.cod?(I(!1),A(!0),d(!1),M(e),m({})):200===e.cod&&(I(!1),m(e),C(e.weather[0].icon),M({}),A(!1),d(!0))},R="n"===y.slice(-1)?"night":"";return Object(l.jsx)("div",{className:"app app-".concat(y),children:Object(l.jsxs)("main",{className:"content",children:[Object(l.jsx)("span",{className:"fav fav--".concat(R),onClick:function(){z(!q)},children:0!==Y.length&&Object(l.jsx)("span",{className:"fav__num",children:Y.length})}),Object(l.jsx)("h1",{className:"appTitle appTitle--".concat(R),children:"Weather Forecast App"}),Object(l.jsx)(o,{query:a,setQuery:s,fetchWeather:function(e){"Enter"===e.key&&(I(!0),A(!1),d(!1),fetch("".concat(p,"weather?q=").concat(a,"&units=metric&APPID=").concat(_)).then((function(e){return e.json()})).then(K))}}),j&&Object(l.jsx)(v,{favCities:Y,setFavCities:H,weather:h}),T&&Object(l.jsx)(O,{error:w}),P&&Object(l.jsx)(f,{}),q&&Object(l.jsx)(F,{favCities:Y,setIsFavOpen:z,setFavCity:s,handleDeleteFavCity:function(e){var t=e.target.getAttribute("data-value");e.stopPropagation(),z(!0);var a=Y.filter((function(e){return e!==t}));H(a)}})]})})};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e5a8ff74.chunk.js.map